<style>
  .aligned-card-container {
    display: flex;
    justify-content: space-between; /* Spacing between cards */
    margin-top: 20px; /* Space below the carousel */
  }

  .title-card {
    flex: 2; /* 2/3 width */
    background-color: white;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Optional shadow */
    border-radius: 10px;
    padding: 1.5rem;
  }

  .partner-up-card {
    flex: 1; /* 1/3 width */
    background-color: white;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Optional shadow */
    border-radius: 10px;
    padding: 1.5rem;
    margin-left: 20px; /* Add a gap between the two cards */
  }

  .flat-show-card {
    margin-top: 15px;
    padding-top: 15px;
  }
</style>

<div class="container mt-4">
  <!-- Carousel Section -->
  <div id="customCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <%= image_tag @partner.image, alt: "Le Wagon", width: 400, class:"image-centrale" %>
      </div>
      <div class="carousel-item">
        <img src="https://images.unsplash.com/photo-1515168985652-8454bcc8fcaf?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTF8fHNhbGxlJTIwZGUlMjBzcGVjdGFjbGV8ZW58MHx8MHx8fDI%3D" alt="Second Slide" width=400 height=400>
      </div>
      <div class="carousel-item">
        <img src="https://i.pinimg.com/474x/55/b3/78/55b378701e9e673b85d395a30709fea4.jpg" alt="Second Slide" width=400 height=400>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#customCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#customCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  <!-- Cards Section -->
  <div class="aligned-card-container">
    <!-- Title Card -->
    <div class="title-card">
      <div class="flat-show-card">
        <h1 class="fw-bold pb-4 border-bottom"><%= @partner.title %></h1>
        <h3 class="title-purple mt-5">A bit more about this partner...</h3>
        <p class="mt-3"><%= @partner.description %></p>
      </div>
    </div>

    <!-- Partner Up Card -->
    <div class="partner-up-card" data-controller="calcul-dates">
      <div class="card-body">
        <h5 class="card-title fw-bold mb-3">Partner up!</h5>
        <div class="mt-4">
          <%= simple_form_for ([@partner, @booking]) do |f|%>
            <div class="form-input">
              <%= f.input :start_date, label:"Date de début",
                          as: :string,
                          input_html: { data: { controller: "datepicker", calcul_dates_target: "startDate",
                              action: "input->calcul-dates#select" } } %>
              <%= f.input :end_date, label:"Date de début fin",
                          as: :string,
                          input_html: { data: { controller: "datepicker", calcul_dates_target: "endDate",
                              action: "input->calcul-dates#select" } } %>
            </div>

            <div class="form-input-message">
               <%= f.input :message, as: :text %>
            </div>

            <div class="form-actions">
             <%= f.button :submit, value:"Réserver mon Partner", class:"button-form w-100"%>
            </div>
          <% end %>
        </div>

        <div class="flat-show-card d-flex justify-content-between">
          <h5 class="fw-bold">Détail</h5>
          <div class="d-flex gap-1">
            <p data-calcul-dates-target="fixedPrice"><%= @partner.price.to_i %>€ x</p>
            <p data-calcul-dates-target="totalDate"> 0 jour</p>
          </div>
        </div>
        <div class="border-top mt-3 pt-3 d-flex justify-content-between">
          <h5 class="fw-bold">Total</h5>
            <p data-calcul-dates-target="pricing">0€</p>
          <p> 300€ x 2 jours</p>
        </div>
        <div class="border-top mt-3 pt-3 d-flex justify-content-between">
          <h5 class="fw-bold">Total</h5>
            <p>600€</p>
        </div>
      </div>
    </div>
  </div>
</div>
